doctype html
html
  head
    title= title

    // Sets initial viewport load and disables zooming  
    meta(name='viewport', content='initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui')

    // Makes your prototype chrome-less once bookmarked to your phone's home screen 
    meta(name='apple-mobile-web-app-capable', content='yes')
    meta(name='apple-mobile-web-app-status-bar-style', content='black')

    // Include the compiled Ratchet CSS 
    link(rel='stylesheet', href='/ratchet/css/ratchet.css')

    // Google Fonts
    link(href='http://fonts.googleapis.com/css?family=Gloria+Hallelujah' rel='stylesheet' type='text/css') 

    // Customized stylesheet
    link(rel='stylesheet', href='/stylesheets/style.css')

    // Include the compiled Ratchet JS 
    script(src='/jquery/js/jquery-2.1.1.min.js')
    script(src='/ratchet/js/ratchet.js')
    script(src='/ratchet/js/fingerblast.js')

    // Page specific headers
    block head

  body

    // Main body content
    block content

    include partials/bottom-nav-bar

    // Page specific footers
    block foot

    // Enable FingerBlast for Desktop
    script.
      //(function () {var fb = new FingerBlast('body')})();

    // Handling custom JS code with Push.js from:
    // http://stackoverflow.com/questions/23207741/executing-several-js-files-with-ratchet-push-js-library/23316965#23316965
    script.
      window.addEventListener('push', function() {
        var scriptsList = document.querySelectorAll('script.js-custom');
        for(var i = 0; i < scriptsList.length; ++i) {
          eval(scriptsList[i].innerHTML);
        }
        console.log('executed');
      });